# 缓存中间件

redis并不一定和缓存绑定，但是经常被用作缓存。
下面是redis，作为缓存中间件的常见问题。

## 缓存数据库

缓存数据库，是用来作为持久化数据库的缓存。查询数据的时候，先去缓存查询，查不到的时候才去数据库查询，这样是为了保护数据库不被大量请求。

## 缓存穿透

Redis 的缓存穿透是指客户端查询一个不存在的键时，缓存中没有这个键，请求直接穿透到数据库，导致数据库需要处理大量无效的查询请求。这种现象通常发生在高并发场景下，会对数据库造成较大的压力。

一句话：缓存没有，数据库也没有，返回空值。特点是“透”。 

解决方法 空值缓存、布隆过滤器

## 缓存雪崩

大量键，在很短的时间内一起过期，缓存失效进一步加剧了后端压力，可能导致雪崩效应。

解决办法：

随机化过期时间：为每个缓存设置一个随机的过期时间，避免大量数据同时失效。
多级缓存：引入多级缓存架构，如本地缓存+分布式缓存，减少对 Redis 的依赖。

## 缓存击穿

热点键过期导致并发查询数据库。

解决方法 锁机制、互斥锁、缓存预热